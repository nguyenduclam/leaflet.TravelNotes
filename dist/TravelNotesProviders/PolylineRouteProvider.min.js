
/*!
leaflet.travelnotespolyline - version 1.7.0 
build 00124 - 2020-01-08T20:15:30+0100 
Copyright 2017 2020 wwwouaiebe 
Contact: http://www.ouaie.be/
Sources: https://github.com/wwwouaiebe/leaflet.TravelNotesPolyline 
License: GPL-3.0
*/


!function(){"use strict";window.L.travelNotes.addProvider(function(){const t=0,n=1,e=2,r=0,a=1,i=180,o=360,l=Math.PI/i,s=i/Math.PI,u=Math.PI/e;let A="fr",d=null;const g={en:{kStart:"Start",kContinue:"Continue",kEnd:"Stop"},fr:{kStart:"Départ",kContinue:"Continuer",kEnd:"Arrivée"}},c={kStart:"kDepartDefault",kContinue:"kContinueStraight",kEnd:"kArriveDefault"};function y(t,n,e){return Math.acos(Math.cos(n)*Math.cos(e)+Math.sin(n)*Math.sin(e)*Math.cos(t))}function v(t,n,e){return Math.acos((Math.cos(e)-Math.cos(t)*Math.cos(n))/(Math.sin(t)*Math.sin(n)))}function h(n,e){let r=window.L.travelNotes.maneuver;r.iconName=c[e],r.instruction=g[A]?g[A][e]:g.en[e],r.duration=t,r.itineraryPointObjId=n,d.itinerary.maneuvers.add(r)}function P(t){let n=window.L.travelNotes.itineraryPoint;return n.latLng=t,d.itinerary.itineraryPoints.add(n),n.objId}function f(t,e){let A=[t.lat*l,t.lng*l],g=[e.lat*l,e.lng*l],c=(e.lng-t.lng+o)%o>i?-n:n,h=y(g[a]-A[a],u-A[r],u-g[r]),P=v(u-A[r],h,u-g[r]),f=[];for(let t=1;t<=64;t++){let n=h*t/64,e=y(P,u-A[r],n),i=v(u-A[r],e,n),o=window.L.travelNotes.itineraryPoint;o.latLng=[(u-e)*s,(A[a]+c*i)*s],f.push(o)}e.lng=f.pop().lng,f.forEach(t=>d.itinerary.itineraryPoints.add(t))}function w(t,n){try{switch(d.itinerary.itineraryPoints.removeAll(),d.itinerary.maneuvers.removeAll(),d.itinerary.transitMode){case"line":!function(){let t=d.wayPoints.iterator,n=null;for(;!t.done;)t.first?(n=t.value,h(P(t.value.latLng),"kStart")):(f(n,t.value),h(P(t.value.latLng),t.last?"kEnd":"kContinue"),n=t.value);let e=-Number.MAX_VALUE,r=d.itinerary.itineraryPoints.iterator;for(;!r.done;)e=Math.max(e,r.value.lng);let a=e%o-e;for(r=d.itinerary.itineraryPoints.iterator;!r.done;)r.value.lng+=a;for(t=d.wayPoints.iterator;!t.done;)t.value.lng+=a}();break;case"circle":!function(){let t=[d.wayPoints.first.lat*l,d.wayPoints.first.lng*l],n=[d.wayPoints.last.lat*l,d.wayPoints.last.lng*l],i=y(t[a]-n[a],u-t[r],u-n[r]),o=[];for(let n=0;n<=360;n++){let l=y(Math.PI/(360*e)+Math.PI*n/360,i,u-t[r]),A=v(u-t[r],l,i),d=window.L.travelNotes.itineraryPoint;d.latLng=[(u-l)*s,(t[a]+A)*s],o.push(d),(d=window.L.travelNotes.itineraryPoint).latLng=[(u-l)*s,(t[a]-A)*s],o.unshift(d),360===n&&(h(d.objId,"kStart"),(d=window.L.travelNotes.itineraryPoint).latLng=[(u-l)*s,(t[a]-A)*s],h(d.objId,"kEnd"),o.push(d))}o.forEach(t=>d.itinerary.itineraryPoints.add(t))}()}t(d)}catch(t){n(t)}}return{getPromiseRoute:t=>(t=t,d=t,new Promise(w)),get icon(){return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAIAAAC0Ujn1AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3\t\t\t\t\t\tRJTUUH4ggaBh8z7ov/KQAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAAqElEQVRIx9VW0Q6AIAgU5v\t\t\t\t\t\t//sr1Us0I6EGy5HnLR3XnAhFprJWdxSVuJ0FX7SLS/uEzDVJ8cMdAuOJfXCBPR/gSn8cHNMz+7DLEa3ccf5QSo7itPpBzoYAOuCH\t\t\t\t\t\tTbdvEMqQBb5hoGp1G0RbIYg9bFvqXaUnxKPiURHNDfg8PxLMrYNHYabe5GxI2eUqWvHj3YgTjJjWXX7vS18u2wEDT0rJlDoie0fw\t\t\t\t\t\t5mG+C/L0HylIYKAAAAAElFTkSuQmCC"},get name(){return"Polyline"},get transitModes(){return{line:!0,circle:!0}},get providerKeyNeeded(){return!1},get providerKey(){return n},set providerKey(t){return t},get userLanguage(){return A},set userLanguage(t){A=t}};var M}())}();