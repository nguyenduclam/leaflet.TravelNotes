
/*!
leaflet.travelnotesopenrouteservice - version 1.7.0 
build 00032 - 2020-02-05T12:52:48+0100 
Copyright 2017 2020 wwwouaiebe 
Contact: http://www.ouaie.be/
Sources: https://github.com/wwwouaiebe/leaflet.TravelNotesOpenRouteService 
License: GPL-3.0
*/


!function(){"use strict";window.L.travelNotes.addProvider(function(){const e=0,t=1,r=5,n=31,i=32,a=63,o=1e-5,u=100,s=6,l=0,d=1,A=2;let c="",g="fr",h=null;function y(s,c,g){s.routes&&e!==s.routes.length||g(new Error("Route not found")),s.routes[e].geometry=function(s,l){let d=s.length,A=e,c=[],g=e,h=e,y=e;for(;A<d;){let d=null,p=e,f=e;do{f|=((d=s.charCodeAt(A++)-a)&n)<<p,p+=r}while(i<=d);g+=f&t?~(f>>t):f>>t,p=e,f=e;do{f|=((d=s.charCodeAt(A++)-a)&n)<<p,p+=r}while(i<=d);if(h+=f&t?~(f>>t):f>>t,l){p=e,f=e;do{f|=((d=s.charCodeAt(A++)-a)&n)<<p,p+=r}while(i<=d);y+=f&t?~(f>>t):f>>t,c.push([g*o,h*o,y/u])}else c.push([g*o,h*o])}return c}(s.routes[e].geometry,!0),h.itinerary.itineraryPoints.removeAll(),h.itinerary.maneuvers.removeAll(),h.itinerary.hasProfile=!0,h.itinerary.ascent=e,h.itinerary.descent=e;let y=["kTurnLeft","kTurnRight","kTurnSharpLeft","kTurnSharpRight","kTurnSlightLeft","kTurnSlightRight","kContinueStraight","kRoundaboutRight","kRoundaboutExit","kUturnLeft","kArriveDefault","kDepartDefault","kStayLeft","kStayRight"],p=e,f=window.L.travelNotes.itineraryPoint;f.lat=s.routes[e].geometry[p][l],f.lng=s.routes[e].geometry[p][d],f.elev=s.routes[e].geometry[p][A],h.itinerary.itineraryPoints.add(f),p++,s.routes[e].segments.forEach(function(r){r.steps.forEach(function(r){let n=window.L.travelNotes.maneuver;for(n.iconName=y[r.type]||"kUndefined",n.instruction=r.instruction,n.duration=r.duration,n.distance=r.distance,n.itineraryPointObjId=h.itinerary.itineraryPoints.last.objId,h.itinerary.maneuvers.add(n);p<=r.way_points[t];)(f=window.L.travelNotes.itineraryPoint).lat=s.routes[e].geometry[p][l],f.lng=s.routes[e].geometry[p][d],f.elev=s.routes[e].geometry[p][A],h.itinerary.itineraryPoints.add(f),p++})});let v=h.wayPoints.iterator;s.routes[e].way_points.forEach(function(t){v.done||(v.value.latLng=s.routes[e].geometry[t])}),c(h)}function p(e,t){var r,n,i;(r=function(){let e="https://api.openrouteservice.org/v2/directions/";switch(h.itinerary.transitMode){case"car":e+="driving-car";break;case"bike":e+="cycling-regular";break;case"pedestrian":e+="foot-walking";break;default:return void console.log("invalid transitMode")}return e}(),n=[{headerName:"Accept",headerValue:"application/json, application/geo+json, application/gpx+xml, img/png; charset=utf-8"},{headerName:"Content-Type",headerValue:"application/json"},{headerName:"Authorization",headerValue:c}],i=function(){let e=null;return h.wayPoints.forEach(t=>{e=e?e+",":'{"coordinates":[',e+="["+t.lng.toFixed(s)+","+t.lat.toFixed(s)+"]"}),e+='],"elevation":"true","language":"'+g+'"}'}(),new Promise(function(e,t){let a=new XMLHttpRequest;a.timeout=15e3,a.onreadystatechange=function(){if(4===a.readyState)if(200===a.status){let r=null;try{r=JSON.parse(a.responseText),e(r)}catch(e){t(e)}}else 400<=a.status?t(new Error("Error HTTP "+a.status+" "+a.statusText)):t(new Error("Error XMLHttpRequest - File : "+a.responseURL))},a.open("POST",r,!0),n&&n.forEach(e=>a.setRequestHeader(e.headerName,e.headerValue)),a.overrideMimeType("application/json"),a.send(i)})).then(r=>y(r,e,t)).catch(e=>t(e))}return{getPromiseRoute:e=>(e=e,h=e,new Promise(p)),get icon(){return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAABmJLR0QAzwBfAF8OMuGdAAAACXBIWX\t\t\t\t\tMAAA7DAAAOwwHHb6hkAAAAB3RJTUUH4QoBEgIhgj0YgQAAAmdJREFUSMftlk9LYlEYxn+WinqdaWga0owaa9RWFS2iTZt27YJu5K\t\t\t\t\t4bFNSqFkFEcaHvUNAmUjdCGdQHqE8QGVGRY1BpOZEFGepo+WcW43WySWYZAz6rc5/3HH7nfR84XJV/ZCTPO6iKd1IFXAFXwP8/WP\t\t\t\t\t3a0FutmEURQ2sr5PMkgkEi6+ukr64A6HS5SvZnUilSoRBht5v09TVVgoDF6eRDeztqg4FMPE48EODH5ibP0ejbHWvq6vg2O4umpo\t\t\t\t\tbvskxAltHW1mKbn0drMpUADyQJvyRxubKC0W6naWwMgObxcT739nK5vMzhxARXHg+1PT20TE2VH7VZFKnW6Yj4fDzd3vIcjRLx+V\t\t\t\t\tDr9ZgGBv4alwqIn5wAoLNYADC2tQEg2O3kczke/X4OJInAwkJ5sHIoeXZW9JS1UnupvErFx44OAH5eXPzef34OQIMo4lhcRHA4/p\t\t\t\t\t2x2mgEIJtMFj1lrdQUvcz68fiYcOE7tLpKy/Q0+sZGDE1N2ObmeNjfJ+x2k43F3u5YgVQLQtGrLgAziUQJ2D86yvnSErlMhiqNhs\t\t\t\t\tzDAwDPd3cEZJmwx8NTwfvU1cXXycnyo44HAsV8FAk2GwCJ09PSfPN5Ynt7XHu9GO12zENDf4q5HPe7u5zMzBDx+QAwWK3lwTdbW2\t\t\t\t\tTTacyiiNZkQltfj3lwkEwqxc329ptZ3e/skAyHqevrQ2syYZNlOl0uarq7IZcrZq40Vbz46z8QXXMzDaKIodBpMhgksrFBKhQqyf\t\t\t\t\tZAkopnvvT3YxkeJnZ4SHhtDYvTieBwoBYEsskkj0dHRLxesvF4eXDlra6AK+AKuAIup1+E4uxBnFG6zQAAAABJRU5ErkJggg=="},get name(){return"OpenRouteService"},get transitModes(){return{car:!0,bike:!0,pedestrian:!0,train:!1}},get providerKeyNeeded(){return!0},get providerKey(){return c.length},set providerKey(e){c=e},get userLanguage(){return g},set userLanguage(e){g=e}};var f}())}();