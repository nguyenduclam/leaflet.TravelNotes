/*! leaflet.travelnotesopenrouteservice - version 1.5.0 - build 0032 - 2019-11-06 - Copyright 2017 2019 wwwouaiebe - Contact: http//www.ouaie.be/ - This  program is free software; you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation; either version 3 of the License, or any later version.*/


!function i(a,u,s){function c(t,e){if(!u[t]){if(!a[t]){var r="function"==typeof require&&require;if(!e&&r)return r(t,!0);if(f)return f(t,!0);var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}var o=u[t]={exports:{}};a[t][0].call(o.exports,function(e){return c(a[t][1][e]||e)},o,o.exports,i,a,u,s)}return u[t].exports}for(var f="function"==typeof require&&require,e=0;e<s.length;e++)c(s[e]);return c}({1:[function(e,t,r){"use strict";var n={};function i(e){return Math.floor(Math.abs(e)+.5)*(0<=e?1:-1)}function u(e,t,r){var n=(e=i(e*r))-(t=i(t*r));n<<=1,e-t<0&&(n=~n);for(var o="";32<=n;)o+=String.fromCharCode(63+(32|31&n)),n>>=5;return o+=String.fromCharCode(n+63)}function o(e){for(var t=[],r=0;r<e.length;r++)t.push(e[r].slice().reverse());return t}n.decode=function(e,t){for(var r,n=0,o=0,i=0,a=[],u=0,s=0,c=null,f=Math.pow(10,Number.isInteger(t)?t:5);n<e.length;){for(c=null,s=u=0;s|=(31&(c=e.charCodeAt(n++)-63))<<u,u+=5,32<=c;);for(r=1&s?~(s>>1):s>>1,u=s=0;s|=(31&(c=e.charCodeAt(n++)-63))<<u,u+=5,32<=c;);o+=r,i+=1&s?~(s>>1):s>>1,a.push([o/f,i/f])}return a},n.encode=function(e,t){if(!e.length)return"";for(var r=Math.pow(10,Number.isInteger(t)?t:5),n=u(e[0][0],0,r)+u(e[0][1],0,r),o=1;o<e.length;o++){var i=e[o],a=e[o-1];n+=u(i[0],a[0],r),n+=u(i[1],a[1],r)}return n},n.fromGeoJSON=function(e,t){if(e&&"Feature"===e.type&&(e=e.geometry),!e||"LineString"!==e.type)throw new Error("Input must be a GeoJSON LineString");return n.encode(o(e.coordinates),t)},n.toGeoJSON=function(e,t){return{type:"LineString",coordinates:o(n.decode(e,t))}},"object"==typeof t&&t.exports&&(t.exports=n)},{}],2:[function(A,e,t){!function(){"use strict";var a,n,r,u,o,i,s,c;function f(e,t){u.routes&&0!==u.routes.length||t("Route not found"),u.routes[0].geometry=A("@mapbox/polyline").decode(u.routes[0].geometry,5),a.itinerary.itineraryPoints.removeAll(),a.itinerary.maneuvers.removeAll();var n=["kTurnLeft","kTurnRight","kTurnSharpLeft","kTurnSharpRight","kTurnSlightLeft","kTurnSlightRight","kContinueStraight","kRoundaboutRight","kRoundaboutExit","kUturnLeft","kArriveDefault","kDepartDefault","kStayLeft","kStayRight"],o=0,r=L.travelNotes.itineraryPoint;r.latLng=u.routes[0].geometry[o],a.itinerary.itineraryPoints.add(r),o++,u.routes[0].segments.forEach(function(e){e.steps.forEach(function(e){var t=L.travelNotes.maneuver;for(t.iconName=n[e.type]||"kUndefined",t.instruction=e.instruction,t.duration=e.duration,t.distance=e.distance,t.itineraryPointObjId=a.itinerary.itineraryPoints.last.objId,a.itinerary.maneuvers.add(t);o<=e.way_points[1];){var r=L.travelNotes.itineraryPoint;r.latLng=u.routes[0].geometry[o],a.itinerary.itineraryPoints.add(r),o++}})});var i=a.wayPoints.iterator;u.routes[0].way_points.forEach(function(e){i.done||(i.value.latLng=u.routes[0].geometry[e])}),e("")}function g(e,t){var r=new XMLHttpRequest;r.timeout=5e3,r.ontimeout=function(e){t("TimeOut error")},r.onreadystatechange=function(){if(4===r.readyState)if(200===r.status){try{u=JSON.parse(r.responseText)}catch(e){t("JSON parsing error")}e(new Promise(i[o++]))}else t("Status : "+this.status+" statusText : "+this.statusText)},r.open("POST",s,!0),r.setRequestHeader("Accept","application/json, application/geo+json, application/gpx+xml, img/png; charset=utf-8"),r.setRequestHeader("Content-Type","application/json"),r.setRequestHeader("Authorization",n),r.overrideMimeType("application/json"),r.send(c)}function d(e,t){return a=e,t,u="",s=function(){var e="https://api.openrouteservice.org/v2/directions/";switch(a.itinerary.transitMode){case"car":e+="driving-car";break;case"bike":e+="cycling-tour";break;case"pedestrian":e+="foot-walking";break;default:return void console.log("invalid transitMode")}return e}(),c=function(){var e=a.wayPoints.forEach(function(e,t){return null===t?t='{"coordinates":[[':t+="],[",t+=e.lng.toFixed(6)+","+e.lat.toFixed(6)});return e+=']],"language":"'+r+'"}'}(),o=0,(i=[]).push(g),i.push(f),new Promise(i[o++])}L.travelNotes.addProvider((r="fr",o=0,i=[],c=s=u=n="",{getPromiseRoute:function(e,t){return d(e,t)},get icon(){return"iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAABmJLR0QAzwBfAF8OMuGdAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAB3RJTUUH4QoBEgIhgj0YgQAAAmdJREFUSMftlk9LYlEYxn+WinqdaWga0owaa9RWFS2iTZt27YJu5K4bFNSqFkFEcaHvUNAmUjdCGdQHqE8QGVGRY1BpOZEFGepo+WcW43WySWYZAz6rc5/3HH7nfR84XJV/ZCTPO6iKd1IFXAFXwP8/WP3a0FutmEURQ2sr5PMkgkEi6+ukr64A6HS5SvZnUilSoRBht5v09TVVgoDF6eRDeztqg4FMPE48EODH5ibP0ejbHWvq6vg2O4umpobvskxAltHW1mKbn0drMpUADyQJvyRxubKC0W6naWwMgObxcT739nK5vMzhxARXHg+1PT20TE2VH7VZFKnW6Yj4fDzd3vIcjRLx+VDr9ZgGBv4alwqIn5wAoLNYADC2tQEg2O3kczke/X4OJInAwkJ5sHIoeXZW9JS1UnupvErFx44OAH5eXPzef34OQIMo4lhcRHA4/p2x2mgEIJtMFj1lrdQUvcz68fiYcOE7tLpKy/Q0+sZGDE1N2ObmeNjfJ+x2k43F3u5YgVQLQtGrLgAziUQJ2D86yvnSErlMhiqNhszDAwDPd3cEZJmwx8NTwfvU1cXXycnyo44HAsV8FAk2GwCJ09PSfPN5Ynt7XHu9GO12zENDf4q5HPe7u5zMzBDx+QAwWK3lwTdbW2TTacyiiNZkQltfj3lwkEwqxc329ptZ3e/skAyHqevrQ2syYZNlOl0uarq7IZcrZq40Vbz46z8QXXMzDaKIodBpMhgksrFBKhQqyfZAkopnvvT3YxkeJnZ4SHhtDYvTieBwoBYEsskkj0dHRLxesvF4eXDlra6AK+AKuAIup1+E4uxBnFG6zQAAAABJRU5ErkJggg=="},get name(){return"OpenRouteService"},get transitModes(){return{car:!0,bike:!0,pedestrian:!0,train:!1}},get providerKeyNeeded(){return!0},get providerKey(){return n.length},set providerKey(e){""===n&&(n=e)},get userLanguage(){return r},set userLanguage(e){r=e}}))}()},{"@mapbox/polyline":1}]},{},[2]);