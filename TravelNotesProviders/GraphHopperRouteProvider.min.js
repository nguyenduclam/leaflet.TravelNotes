
/*!
leaflet.travelnotesgraphhopper - version 1.6.0 
build 00031 - 2019-12-29T10:16:39+0100 
Copyright 2017 2019 wwwouaiebe 
Contact: http://www.ouaie.be/
Sources: https://github.com/wwwouaiebe/leaflet.TravelNotesGraphHopper 
License: GPL-3.0
*/


!function(){"use strict";var t={};function e(t){return Math.floor(Math.abs(t)+.5)*(t>=0?1:-1)}function r(t,r,n){var o=(t=e(t*n))-(r=e(r*n));o<<=1,t-r<0&&(o=~o);for(var i="";o>=32;)i+=String.fromCharCode(63+(32|31&o)),o>>=5;return i+=String.fromCharCode(o+63)}function n(t){for(var e=[],r=0;r<t.length;r++)e.push(t[r].slice().reverse());return e}t.decode=function(t,e){for(var r,n=0,o=0,i=0,a=[],s=0,u=0,l=null,d=Math.pow(10,Number.isInteger(e)?e:5);n<t.length;){l=null,s=0,u=0;do{u|=(31&(l=t.charCodeAt(n++)-63))<<s,s+=5}while(l>=32);r=1&u?~(u>>1):u>>1,s=u=0;do{u|=(31&(l=t.charCodeAt(n++)-63))<<s,s+=5}while(l>=32);o+=r,i+=1&u?~(u>>1):u>>1,a.push([o/d,i/d])}return a},t.encode=function(t,e){if(!t.length)return"";for(var n=Math.pow(10,Number.isInteger(e)?e:5),o=r(t[0][0],0,n)+r(t[0][1],0,n),i=1;i<t.length;i++){var a=t[i],s=t[i-1];o+=r(a[0],s[0],n),o+=r(a[1],s[1],n)}return o},t.fromGeoJSON=function(e,r){if(e&&"Feature"===e.type&&(e=e.geometry),!e||"LineString"!==e.type)throw new Error("Input must be a GeoJSON LineString");return t.encode(n(e.coordinates),r)},t.toGeoJSON=function(e,r){return{type:"LineString",coordinates:n(t.decode(e,r))}},"object"==typeof module&&module.exports&&(module.exports=t),window.L.travelNotes.addProvider(function(){const e=0,r=5,n=6,o=4,i=1e3;let a="",s="fr",u=null,l=["kUndefined","kTurnSharpLeft","kTurnLeft","kTurnSlightLeft","kContinueStraight","kTurnSlightRight","kTurnRight","kTurnSharpRight","kArriveDefault","kUndefined","kRoundaboutRight"];function d(d,p){var c,h,A,v,g;(v=function(){let t=null;u.wayPoints.forEach(e=>{t=t?t+"&":"",t+="point="+e.lat.toFixed(n)+","+e.lng.toFixed(n)});let e="";switch(u.itinerary.transitMode){case"bike":e="bike";break;case"pedestrian":e="foot";break;case"car":e="car"}return"https://graphhopper.com/api/1/route?"+t+"&instructions=true&type=json&key="+a+"&locale="+s+"&vehicle="+e}(),new Promise(function(t,e){let r=new XMLHttpRequest;r.timeout=15e3,r.onreadystatechange=function(){if(4===r.readyState)if(200===r.status){let n=null;try{n=JSON.parse(r.responseText),t(n)}catch(t){e(new Error("JSON parsing error. File : "+r.responseURL))}}else 400<=r.status?e(new Error("Error HTTP "+r.status+" "+r.statusText)):e(new Error("Error XMLHttpRequest - File : "+r.responseURL))},r.open("GET",v,!0),g&&g.forEach(t=>r.setRequestHeader(t.headerName,t.headerValue)),r.overrideMimeType("application/json"),r.send(null)})).then(n=>(n=n,h=d,A=p,e===n.paths.length&&A("Route not found"),u.itinerary.itineraryPoints.removeAll(),u.itinerary.maneuvers.removeAll(),n.paths.forEach(function(n){n.points=t.decode(n.points,r),n.snapped_waypoints=t.decode(n.snapped_waypoints,r);let a=[];for(let t=e;t<n.points.length;t++){let e=window.L.travelNotes.itineraryPoint;e.latLng=n.points[t],a.push(e),u.itinerary.itineraryPoints.add(e)}n.instructions.forEach(function(t){let r=window.L.travelNotes.maneuver;r.iconName=l[t.sign+o||e],r.instruction=t.text||"",r.duration=t.time/i,r.distance=t.distance,r.itineraryPointObjId=a[t.interval[e]].objId,u.itinerary.maneuvers.add(r)});let s=u.wayPoints.iterator;n.snapped_waypoints.forEach(function(t){s.done||(s.value.latLng=t)})}),void h(u))).catch(t=>p(t))}return{getPromiseRoute:t=>(t=t,u=t,new Promise(d)),get icon(){return"iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAIAAAC0Ujn1AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AocDyYTxtPEYwAA\t\t\t\tBGtJREFUSMedVU1MXFUUPue+9+bNAMMUZrCFVAsiDEGpJlpdtCY0sTU1xIA1QNSNIcYGuyAuxBp1oU1DYu2iNlKsJopVYy2lkpiy\t\t\t\toCCptLWF1DKFkpb/YShvmBmYX97/dUECw5sBpj2r97577pdzv3vud/BLzw8XF3s5ZGG9QAQA0CggAEGgFDYLRVffsu/HUlcNAyQ5\t\t\t\tJ0NApzGXXxwLKvNLhCNcbrqlNJvfYaWavjE7hyzLIUuTFYIskd2RByduRfu9im9pBed3ZG79oCzr9QKqrMtOgXLIrquDOBqcONQj\t\t\t\teyIGXJoKTX/URyUtu6aIStoGhZOk4mpBeeL97kTelXB/dj3QPoYseThq5HD6yFV5Npq4xMadcvZof8zlRwZTpUYTE7w0Fb4ya8CL\t\t\t\ti4vb2toGBgZ6enpqa2sBQAvLvtYRLaauR52gNaW+s/cMWGFhYUdHh9PpXP4tLy/Pz89vamqSugXze7r8JJMCNcGl4YDkDq/BCGlo\t\t\t\taHA6nVPy3GnvhZvRYQdrq/n0QFrzqVgw8sQV03gh6lTfRBBEEO8F1YAYD9rt9sP1hyflB4cmm9oDPYLsd8XGjkyfsrxgB4DB367t\t\t\t\tztipUHUTaqqDNBMxNGxlZSUQOOO96JG9PDERJCwyZjSpqAPAqGd898xTKtE2o1Z1bUE0ZFRUVLiptz96FyC+GVAcCy5/3fnr5nO2\t\t\t\tEi1BE2K4w8Q3VlJSMhpzT8tzGHclakCUJkLLf5c6O19z7EnUhBhMg8ngDBnhaOSuOBlvBsTC+n9d7aKhoaFnYAcibkjNoml7BqzN\t\t\t\tOd92PsyKqzsJKt6Y7+eRlQRZlsNTC9t4OwW6vtYULE9ncw5LPPj18eOuvluEEkAABH1Jnfn8XzUsx+f4Zrx55hy6UV/rNG2nw7on\t\t\t\tN9A+vmq+kvLLmydyDjotpVm6rC92TkWuzxnOHvWHHivNAqDxV218jVSneY3PZ4+yo664N7lE58+ObOT9MdnGWuka5kR70qmeTvb9\t\t\t\t/u6B8lch5WCBSSPmzTwEgAWmV/3vWPsnb5w72NxyWhAERVEopQzD8DwviqIgCIYtNmtmAOQU/BqARebY7I+Z7xQODAy4+m/3Xv67\t\t\t\tu6v7Wt9V1+3B6urqxPxtubmJNoLP3nk76QBbHkIFfN5e264XM0rzTA4GiFvwvOJ8ORQJGZIDiwsnY21/+LoYJMt704h53QGGgCrV\t\t\t\t7ovu+6L7O+HC8rQUml2JvEVFRVm2LYvBEKYiSLKZgap/Sfh2MHGlvr4+CpJXCcDaB5kqNTEznqP9VDVKl5OTU1dXJ8i+McnziFVT\t\t\t\tSdtaXwZ5vAFvaWmxWq03wsMLagjhkaqmGiX56Sdv/PTxh422TBvP8w6Ho7W1taqqSqHKGV+7CblUOyRpZLOZXxU3lGkF8x5he/7j\t\t\t\tAKBQ9YvZ78/5u8yEj++uNGLGUlcNC0yK1DpQC5r2btm13/ZSHueYleb/XOi9HOpnkVnbuGBCBhvd33Qs/MMhAw8TPHIssirVJCon\t\t\t\tsRSq1tr3/Q+O4QqEHeMWIQAAAABJRU5ErkJggg=="},get name(){return"GraphHopper"},get transitModes(){return{car:!0,bike:!0,pedestrian:!0,train:!1}},get providerKeyNeeded(){return!0},get providerKey(){return a.length},set providerKey(t){a=t},get userLanguage(){return s},set userLanguage(t){s=t}};var p}())}();